!function(t){function e(e){for(var s,o,a=e[0],l=e[1],c=e[2],d=0,h=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(u&&u(e);h.length;)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},r=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,s){n=i[t]=[e,s]}));e.push(n[2]=s);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-1e3a9218":"deece470","chunk-2e56fc36":"2c6cfae5"}[t]+".js"}(t);var l=new Error;r=function(e){a.onerror=a.onload=null,clearTimeout(c);var n=i[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,n[1](l)}i[t]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:a})}),12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw t};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0bb1":function(t,e,n){"use strict";n("11a2")},"11a2":function(t,e,n){},"11c0":function(t,e,n){"use strict";n("6587")},"164d":function(t,e,n){},"452c":function(t,e,n){},4900:function(t,e,n){"use strict";n("164d")},"4a4b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,i,r,o,a=n("2b0e"),l=(n("99af"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("fb6a"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("466d"),n("5319"),n("1276"),n("96cf"),n("1da1")),c=n("3835"),u=n("19e9"),d=n.n(u),h=(n("4160"),n("b0c0"),n("159b"),n("a630"),n("a434"),n("3ca3"),n("ddb0"),n("588e"),{props:["uploading","times","sizes"]}),p=n("2877"),f=Object(p.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.uploading,(function(e,s){return n("div",{key:s},[n("span",{staticClass:"percents"},[t._v(t._s(String(100*e).substr(0,4))+"% ")]),n("span",{staticClass:"filename"},[t._v(t._s(s))]),n("span",[t._v(" "+t._s(t.times[s]&&t.times[s].duration))]),n("span",[t._v(" "+t._s(t.times[s]&&t.times[s].start_time))]),n("span",[t._v(" "+t._s(t.sizes[s]/1e3))])])})),0)}),[],!1,null,null,null).exports,_={props:["firebase"],components:{monitoringUploads:f},data:function(){return{storageRef:this.firebase.storage().ref(),files:[],urls:{},urls_e:{},uploading:{},times:{},sizes:{},uploadedFiles:[],uploadError:null,currentStatus:null,uploadFieldName:"photos"}},computed:{isInitial:function(){return 0===this.currentStatus},isSaving:function(){return 1===this.currentStatus},isSuccess:function(){return 2===this.currentStatus},isFailed:function(){return 3===this.currentStatus}},methods:{updateJSONreactivelly:function(t,e){t=Object.assign({},t,e)},openLink:function(t){this.$w.open("https://firebasestorage.googleapis.com/v0/b/games-in-action.appspot.com/o/images%2F"+t+"?alt=media")},monitoringUpload:function(t,e){var n={};n[t]=e,this.uploading=Object.assign({},this.uploading,n)},fb_upload:function(t,e,n){var s=this;void 0!==e&&e||(e=t.name);var i=this.storageRef.child("images/"+e),r=(new Date).getTime()/1e3,o=i.put(t);this.$w.console.log(t),this.sizes[e]=t.size||null,o.then((function(t){var n=(new Date).getTime()/1e3,i=n-r;s.$set(s.times,e,{start_time:r,end_time:n,duration:i}),s.files.push([e])})),o.on("state_changed",(function(t){var s=t.bytesTransferred/t.totalBytes;"function"==typeof n&&n(e,s)}))},rename:function(t){},set_privacy:function(t,e){var n={customMetadata:{private:"private"===e?"true":null}};this.storageRef.child("images/"+t).updateMetadata(n).then((function(t){alert("ok")})).catch((function(t){alert("error")}))},remove:function(t){var e=this;this.storageRef.child("images/"+t).delete().then((function(){e.files.map((function(n,s){n.indexOf(t)>-1&&e.files.splice(s,1)}))})).catch((function(t){alert("error")}))},reset:function(){this.currentStatus=0,this.uploadedFiles=[],this.uploadError=null},save:function(t){this.$w.console.log(t)},filesChange:function(t,e){for(var n=0;n<e.length;n++)this.fb_upload(e[n],null,this.monitoringUpload)},show_files:function(){var t=this;this.storageRef.child("images/").listAll().then((function(e){e.prefixes.forEach((function(t){})),e.items.forEach((function(e){window.x=e,t.files.push([e.name,e.path,e.customMetadata,Object.keys(e.storage.app),e.size,e.storage.contentType,e.storage.app.name]);e.getDownloadURL().then((function(n){var s={};s[e.name]=n,t.urls=Object.assign({},t.urls,s)})).catch((function(n){var s={};s[e.name]=n.code,t.urls_e=Object.assign({},t.urls_e,s)}))}))})).catch((function(t){}))}},mounted:function(){this.reset(),this.show_files()}},g=(n("9d00"),n("11c0"),{components:{files:Object(p.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[n("div",{staticClass:"button top"},[t._v("Add New File")]),n("input",{staticClass:"input-file",staticStyle:{display:"none"},attrs:{type:"file",multiple:"",name:t.uploadFieldName,disabled:t.isSaving,accept:"image/*"},on:{change:function(e){t.filesChange(e.target.name,e.target.files),t.fileCount=e.target.files.length}}})]),n("monitoring-uploads",{staticClass:"monitoring-uploads",attrs:{uploading:t.uploading,times:t.times,sizes:t.sizes}}),t._l(t.files.slice().reverse(),(function(e,s){return n("div",{key:s,staticClass:"files-box"},[n("span",{staticClass:"files",on:{click:function(n){return t.openLink(e[0])}}},[t._v(t._s(e[0]))]),n("span",{staticClass:"file-actions"},[n("span",{on:{click:function(n){return t.set_privacy(e[0],"private")}}},[t._v("skryj")]),n("span",{on:{click:function(n){return t.remove(e[0])}}},[t._v("smaž")])]),n("div",{staticClass:"details"},[t._v(t._s(e))])])})),Object.keys(t.urls).length>0?n("div",[n("h4",[t._v("Private files")]),n("ol",t._l(t.urls,(function(e,s){return n("li",{key:e,staticClass:"files",attrs:{id:e,onclick:"window.open(this.id)"}},[t._v(" "+t._s(s)+" ")])})),0)]):t._e(),Object.keys(t.urls_e).length>0?n("div",[n("h4",[t._v("Errored private files")]),n("ol",t._l(t.urls_e,(function(e,s){return n("li",{key:e},[t._v(" "+t._s(s)+": "),n("b",[t._v(t._s(e))])])})),0)]):t._e(),n("monitoring-uploads",{staticClass:"monitoring-uploads",attrs:{uploading:t.uploading,times:t.times,sizes:t.sizes}}),n("div",{staticClass:"container",staticStyle:{display:"none"}},[n("form",{attrs:{enctype:"multipart/form-data",novalidate:"","xxxv-if":"isInitial || isSaving"}},[n("div",{staticClass:"dropbox"},[n("input",{staticClass:"input-file",attrs:{type:"file",multiple:"",name:t.uploadFieldName,disabled:t.isSaving,accept:"image/*"},on:{change:function(e){t.filesChange(e.target.name,e.target.files),t.fileCount=e.target.files.length}}}),t._m(0),t.isSaving?n("p",[t._v("Uploading "+t._s(t.fileCount)+" files...")]):t._e()])])])],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{attrs:{"xxxv-if":"isInitial"}},[this._v(" Drag your file(s) here"),e("br"),this._v(" or click to upload files ")])}],!1,null,"564e2f9c",null).exports},watch:{reversed_notes:(r=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=3;break;case 3:if(!(null===this.shown_note_i||e[this.shown_note_i].locked_by&&e[this.shown_note_i].locked_by.uid==this.u.uid)){t.next=5;break}return t.abrupt("return");case 5:if(this.$w.console.log("watcher"),this.$w.console.log(e[this.shown_note_i].text),this.$w.console.log("---------------------------"),this.$w.console.log(this.note),null!==this.note&&e[this.shown_note_i].text!=this.note){t.next=11;break}return t.abrupt("return");case 11:this.$w.console.log("---------Nastavuje se----------"),this.note=e[this.shown_note_i].text,this.$w.console.log("---------note nastavena na----------"),this.$w.console.log(this.note),this.$w.console.log(this.note),this.$nextTick((function(){this.simulateInput(this.$refs.textarea)}));case 17:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),shown_note_id:(i=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:this.$nextTick((function(){var t=this.$w.correct_katex_overflow;"function"==typeof t&&t()}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),note:(s=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e&&this.shown_note_id){t.next=2;break}return t.abrupt("return");case 2:this.$nextTick((function(){var t=this.$w.correct_katex_overflow;"function"==typeof t&&t()}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},created:function(){var t=document.createElement("script");t.innerHTML="function clicked(){var l=this.event.target.textContent;if(l.indexOf('http')===-1&&l.indexOf('ftp')===-1&&l[0]!='/')l='http://'+l;window.open(l)}",document.head.appendChild(t),t=this.$w.document.createElement("script"),this.$w.document.head.appendChild(t),t.src="https://www.games-in-action.eu/notes/correct-katex-overflow.js"},computed:{is_disabled:function(){var t;return null!=this.shown_note_i&&(t=this.reversed_notes[this.shown_note_i])&&t.locked_by&&t.locked_by.uid!=this.u.uid},shown_note_i:{get:function(){var t=!1;if(null==this.shown_note_id||!this.reversed_notes)return null;for(var e=0;e<this.reversed_notes.length;e++)if(this.shown_note_id==this.reversed_notes[e].id){t=1;break}return t?e:null},set:function(){}},tags:function(){var t;return null!=this.shown_note_i&&(t=this.reversed_notes[this.shown_note_i])&&t.tags?Object.keys(t.tags):[]},tags_input_init:{get:function(){return this.tags.join(", ")},set:function(){return null}}},methods:{tab:function(t){var e;t.preventDefault();var n=t.target;if(-1!=(e=this.getCursorPos(n))){var s=n.value;n.value=s.substring(0,e.start)+"  "+s.substring(e.end),n.selectionStart=n.selectionEnd=e.start+2,n.dispatchEvent(new Event("input"))}},uprav:function(){null===this.note_name&&null!==this.shown_note_i&&(this.note_name=this.reversed_notes[this.shown_note_i].name,this.note=this.reversed_notes[this.shown_note_i].text,this.focus())},getCursorPos:function(t){if("selectionStart"in t)return{start:t.selectionStart,end:t.selectionEnd};if(t.createTextRange){var e=document.selection.createRange();if(e.parentElement()===t){var n=t.createTextRange();n.moveToBookmark(e.getBookmark());for(var s=0;n.compareEndPoints("EndToStart",n)>0;n.moveEnd("character",-1))s++;n.setEndPoint("StartToStart",t.createTextRange());for(var i={start:0,end:s};n.compareEndPoints("EndToStart",n)>0;n.moveEnd("character",-1))i.start++,i.end++;return i}}return-1},show_profile:function(t){"string"!=typeof t&&(t="locked_by"),this.$emit("p",this.reversed_notes[this.shown_note_i][t].uid)},simulateInput:function(t){if(t){var e=document.createEvent("Events");e.initEvent("input",!0,!0),t.dispatchEvent(e)}},unlock_note:function(t){this.$w.console.log("locking this.shown_note_id="),this.$w.console.log(this.shown_note_id),this.shown_note_id&&(t=t||!1,this.$db.ref("notes/"+this.shown_note_id+"/locked_by").set(t?null:this.editor))},close_note:function(){this.leavingScroll(this.shown_note_id),this.$w.cursor=null,this.shown_note_id=null,this.close_writing(),this.enteringScroll("list_of_notes")},manageScroll:function(){var t=this.Y,e=this.$w.document.body;e=this.$w,this.Y=e.scrollY,this.$w.console.log(this.Y),e.scroll&&e.scroll(0,t)},leavingScroll:function(t){var e=this.$w.scrollY;0===e?delete this.scrolled_nodes[t]:this.scrolled_nodes[t]=e},enteringScroll:function(t){var e=this.$w,n=this.scrolled_nodes[t]?this.scrolled_nodes[t]:0;this.$nextTick((function(){e.scroll&&e.scroll(0,n)}))},focus:function(){var t=this;this.$nextTick((function(){if(t.$refs.textarea){t.$refs.textarea.focus();var e=t.reversed_notes[t.shown_note_i].cursor;e&&(t.$refs.textarea.selectionEnd=e)}}))},close_writing:function(){this.note_name=this.note=null,this.$refs.textarea&&this.$refs.textarea.removeAttribute("style")},add_note:function(){this.note&&(this.$db.ref("notes").push(Object.assign(this.newItem,{url:this.note_url||null,name:this.note_name,text:this.note,name_author:this.note_name,text_author:this.note})),this.close_writing())},change_privacy:function(){var t=this.reversed_notes[this.shown_note_i],e=!t.is_public;this.$db.ref("public_notes/"+t.id).set(e?{text:t.text,name:t.name,url:t.url||null,tags:t.tags||null}:null),this.$db.ref("notes/"+t.id+"/is_public").set(e)},update_tags:function(){var t;if(null==this.shown_note_i||!this.reversed_notes||!(t=this.reversed_notes[this.shown_note_i]))return alert("error");var e=this.tags_input=this.tags_input.replace(/[^a-zA-Z,0-9_]/g,"");this.tags_input=this.tags_input.replace(/,/g,", ");var n={};e&&e.split(",").forEach((function(t){t&&(n[t]=!0)})),this.$db.ref("notes/"+t.id+"/tags").set(n),this.$db.ref("public_notes/"+t.id+"/tags").set(n)},update_note_name:function(){var t=this.reversed_notes[this.shown_note_i].id;void 0!==t&&t&&(this.$w.console.log("updating note("+t+") url: "+this.note_url),this.$db.ref("notes/"+t+"/url").set(this.note_url||null),this.$db.ref("public_notes/"+t+"/url").set(this.note_url||null))},update_note:function(){var t=this.reversed_notes[this.shown_note_i];this.$w.console.log("updating note"),this.unlock_note(!0);var e=t.id,n={};this.u.uid!=t.author.uid?this.$db.ref("notes/"+e+"/editors/"+this.u.uid).set(this.editor):n={name_author:this.note_name||null,text_author:this.note||null};var s={url:this.note_url||null,tags:this.note_tags||null,name:this.note_name||null,text:this.note||null};this.cursor&&(s.cursor=this.cursor.end),this.$db.ref("notes/"+e).update(Object.assign(this.updatedItem,s,n)),t.is_public&&this.$db.ref("public_notes/"+e).set(s),this.close_writing()},add_one_line:function(){if(this.one_line){var t=this.reversed_notes[this.shown_note_i],e=this.optimize_text(t["text"+this.history]+"\r\n"+this.one_line);this.one_line=null,this.$w.console.log("updating by one-line note");var n=t.id,s={};this.u.uid!=t.author.uid?this.$db.ref("notes/"+n+"/editors/"+this.u.uid).set(this.editor):s={name_author:t.name||null,text_author:e||null};var i={url:t.url||null,tags:t.tags||null,name:t.name||null,text:e||null};this.cursor&&(i.cursor=this.cursor.end),this.$w.console.log("pred:",t,"po:",i,"this.updatedItem",this.updatedItem),this.$w.console.log("update je",Object.assign(this.updatedItem,i,s)),this.$db.ref("notes/"+n).update(Object.assign(this.updatedItem,i,s)),t.is_public&&this.$db.ref("public_notes/"+n).set(i)}},optimize_inputs:function(){this.$w.console.log("optimize_inputs()"),this.$w.console.log("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"),this.note_name=this.optimize_text(this.note_name),this.note=this.optimize_text(this.note),this.note_url=this.optimize_text(this.note_url)},optimize_text:function(t){if(!t)return t;var e=this.cut_out_between(t,"```");t=e[0];for(var n=e[1];t.match(/((\n|^)[-#][^\n]+\r?\n)\r?\n-/);)t=t.replace(/((\n|^)[-#*][^\n]+\r?\n)\r?\n-/g,"$1-");for(var s=t.replace(/\r/g,"").replace(/^\s+|\s+$/g,"").replace(/\b(http.*?=|)(https?%3A%2F%2F[^&\s]+)(&.+|)\b/g,(function(t){return decodeURIComponent(t.match(/https?%3A%2F%2F[^&\s]+/))})).replace(/\bhttp[^\s]+\?url=(https?[^&\s]+)(&.+|)\b/g,"$1").replace(/\bhttp[^\s]+\/url\?q=(https?[^&\s]+)(&.+|)\b/g,"$1").replace(/\bhttp[^\s]+\?[^\s]*url=(https?[^&\s]+)(&.+|)\b/g,"$1").replace(/(http[^\s]+instagram\.com\/[^\s]+)\?[^\s]+/g,"$1").replace(/(marketplace\/item\/[^/?]+)[^\s]+/g,"$1/").replace(/(facebook\.com\/groups\/[^?\s]+)\?[^\s]+/g,"$1").replace(/facebook\.com\/profile\.php\?id=([0-9]+)[^\s0-9]*/g,"facebook.com/$1").replace(/(facebook\.com\/[^?\s/]+)\/?\?[^\s]*((groupid|profile_id)=[0-9]+)[^\s]*/g,"$1?$2").replace(/(facebook\.com\/[^?\s]+)\?(?!groupid|profile_id)[^\s]+/g,"$1").replace(/(facebook\.com\/[^?\s]+)\/about[^\s]+/g,"$1").replace(/(\?|&)(gclid|utm|igshid|ref)=[^\s]+/g,"").replace(/\.html?[^\s]+/g,".html").replace(/(www\.|m\.)(aliexpress\.com)/g,"$2").replace(/(\/[0-9]+[\/]?)\?/g,"$1").replace(/((\n|^)[-#*][^\n]+\r?\n\r?\n)(\r?\n\r?\n\r?\n|\r?\n\r?\n|\r?\n)/g,"$1").split("\n"),i=0;i<s.length;i++)s[i]=s[i].replace(/^\s+|\s+$/g,"");return s=s.join("\n"),n.length&&(s=this.add_cuts(s,n,"```")),s}},data:function(){return{note:null,one_line:null,note_name:null,note_url:"",note_tags:{},note_math:!0,history:"",shown_note_id:null,show_files:!1,cs:"",Y:0,cursor:null,tags_input:null,scrolled_nodes:{}}},mounted:function(){var t=this.uprav;this.$w.addEventListener("keyup",(function(){var e=this.event.target.nodeName;if(!(["TEXTAREA","INPUT"].indexOf(e)>-1)){var n=this.event.keyCode;69!=n&&13!=n||"function"==typeof t&&t()}})),this.autosize(this.$refs.textarea)},updated:function(){if("INPUT"===this.$w.document.activeElement.nodeName)return!1;this.$w.console.log("autosize event on updated"),this.autosize(this.$refs.textarea)},props:["notes","reversed_notes","autosize","firebase","$db","newItem","updatedItem","deleteel","u","editor","format_text","add_cuts","cut_out_between"]}),v=(n("81f9"),n("4900"),n("ff5c"),Object(p.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"documents"}},[null!=t.shown_note_i&&null===t.note_name&&t.reversed_notes[t.shown_note_i].text!=t.reversed_notes[t.shown_note_i].text_author?n("span",{staticClass:"right2 button",attrs:{title:"autorův historický rukopis"},on:{click:function(e){t.history=t.history?"":"_author"}}},[n("svg",{attrs:{width:"14",height:"14"}},[n("use",{attrs:{"xlink:href":"#icon-sand-clock"}})])]):t._e(),null!=t.shown_note_i&&null===t.note_name?n("span",{staticClass:"left button",attrs:{title:"uprav"},on:{click:t.uprav}},[n("svg",{attrs:{width:"14",height:"14"}},[n("use",{attrs:{"xlink:href":"#icon-pen3"}})])]):t.note_math&&null!==t.note_name?n("span",{staticClass:"left button",attrs:{title:"math"}},[n("svg",{attrs:{width:"14",height:"14"}},[n("use",{attrs:{"xlink:href":"#icon-math"}})])]):t._e(),null!==t.shown_note_i||t.note_name?n("span",{staticClass:"close button",attrs:{title:"close"},on:{click:t.close_note}},[n("svg",{attrs:{width:"14",height:"14"}},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e(),t.note_name||null!==t.shown_note_i?t._e():n("span",{staticClass:"l-nav"},[t.show_files?n("span",{on:{click:function(e){t.show_files=!1,t.$emit("nav-status",!t.show_files)}}},[t._v("Zpět")]):n("span",{on:{click:function(e){t.show_files=!0,t.$emit("nav-status",!t.show_files)}}},[t._v("Soubory")])]),t.show_files?n("files",{attrs:{firebase:t.firebase}}):n("div",{attrs:{id:"writting"}},[null!=t.shown_note_i&&null===t.note_name?n("div",{staticClass:"box",attrs:{id:"shown_note"}},[n("div",{staticClass:"name"},[t._v(" "+t._s(t.reversed_notes[t.shown_note_i]["name"+t.history])+" "),n("span",{staticClass:"people",attrs:{title:"Autor"},on:{click:function(e){return t.$emit("p",t.reversed_notes[t.shown_note_i].author.uid)}}},[t._v(t._s((t.t=t.reversed_notes[t.shown_note_i])&&t.t.author?"("+((t.n=t.t.author.displayName)?t.n:t.t.author.email)+")":""))]),t._l(t.reversed_notes[t.shown_note_i].editors,(function(e,s){return n("span",{key:s,staticClass:"people",on:{click:function(e){return t.$emit("p",s)}}},[t._v(" "+t._s(e.displayName||e.email)+" ")])})),n("span",{staticClass:"tags"},t._l(t.tags,(function(e){return n("span",{key:e},[t._v(t._s(e))])})),0),t.history?n("span",[n("svg",{attrs:{width:"18",height:"18",fill:"lightgray"}},[n("use",{attrs:{"xlink:href":"#icon-sand-clock"}})])]):t._e(),n("span",{staticClass:"left2 button",attrs:{title:"nastavení soukromí"},on:{click:t.change_privacy}},[n("svg",{attrs:{width:"14",height:"14"}},[n("use",{attrs:{"xlink:href":"#icon-"+(t.reversed_notes[t.shown_note_i].is_public?"public":"private")}})])]),t.reversed_notes[t.shown_note_i].author&&t.reversed_notes[t.shown_note_i].author.uid!=t.u.uid?t._e():n("span",{staticClass:"delete button",attrs:{title:"delete"},on:{click:function(e){t.deleteel("notes",t.reversed_notes[t.shown_note_i].id),t.deleteel("public_notes",t.reversed_notes[t.shown_note_i].id),t.shown_note_id=t.reversed_notes.length>1?t.reversed_notes[t.reversed_notes.length-1>t.shown_note_i?t.shown_note_i+1:t.shown_note_i-1].id:null}}},[n("svg",{attrs:{width:"14",height:"14",fill:"red"}},[n("use",{attrs:{"xlink:href":"#icon-close"}})])])],2),t.reversed_notes[t.shown_note_i].is_public?n("div",{staticClass:"url"},[n("div",{class:"labelcenter"+t.cs},[t._v("zkopírováno")]),n("input",{domProps:{value:"https://www.games-in-action.eu/notes/?id="+encodeURIComponent(t.reversed_notes[t.shown_note_i].id)},on:{focus:function(e){t.cs=" show",t.$w.setTimeout((function(){t.cs=""}),1e3);var n=t.$w.document.activeElement;n.select(),n.setSelectionRange(0,99999),t.$w.document.execCommand("copy")}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.note_url,expression:"note_url"}],attrs:{placeholder:"/notes/<note_name>"},domProps:{value:t.note_url},on:{blur:function(e){t.cursor=t.update_note_name()},input:function(e){e.target.composing||(t.note_url=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tags_input,expression:"tags_input"}],attrs:{placeholder:"add tags to cathegorize"},domProps:{value:t.tags_input},on:{blur:function(e){return t.update_tags()},input:function(e){e.target.composing||(t.tags_input=e.target.value)}}})]):t._e(),n("div",{staticClass:"w",staticStyle:{"margin-bottom":"20px"},attrs:{id:"one_line"}},[n("input",{attrs:{name:"one_line","x-model":"one_line"},on:{blur:function(e){t.one_line=e.target.value,t.add_one_line(),e.target.value=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add_one_line()}}})]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.format_text(t.reversed_notes[t.shown_note_i]["text"+t.history]))},on:{dblclick:t.uprav}})]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:null===t.shown_note_i||null!==t.shown_note_i&&(null!==t.note_name||null!==t.note),expression:"\n                shown_note_i === null ||\n                (shown_note_i !== null &&\n                    (note_name !== null || note !== null))\n            "}]},[n("div",{staticClass:"w"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.note_name,expression:"note_name"}],attrs:{title:"Přidej poznámku",disabled:t.is_disabled,placeholder:"název nové poznámky"},domProps:{value:t.note_name},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.focus()},blur:function(e){(!e.relatedTarget||"textarea"!=e.relatedTarget.nodeName.toLowerCase())&&(null!=t.shown_note_i?t.update_note():t.add_note())},input:function(e){e.target.composing||(t.note_name=e.target.value)}}}),t.is_disabled?n("div",{staticClass:"disabled-screen"},[n("img",{attrs:{src:t.reversed_notes[t.shown_note_i].locked_by.photoURL,title:t.reversed_notes[t.shown_note_i].locked_by.displayName},on:{click:t.show_profile}})]):t._e()]),t.note||t.note_name&&t.note_name.length>2?n("div",{staticClass:"w"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],ref:"textarea",attrs:{id:"note",disabled:t.is_disabled,placeholder:"# hlavní nadpis, ## podnadpis, *tučně*, čára ---"},domProps:{value:t.note},on:{focus:function(e){return t.unlock_note()},blur:function(e){t.cursor=t.getCursorPos(e.target),-1===t.cursor&&(t.cursor=null),t.optimize_inputs(),(!e.relatedTarget||"input"!=e.relatedTarget.nodeName.toLowerCase())&&(null!=t.shown_note_i?t.update_note():t.add_note()),t.cursor=null},input:[function(e){e.target.composing||(t.note=e.target.value)},function(e){t.$w.cursor=t.getCursorPos(e.target)}],keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.tab(e)}}})]):t._e(),t.is_disabled?n("div",{staticClass:"preview"},[t._v(" Právě na tom pracuje "),n("span",{staticClass:"people",on:{click:t.show_profile}},[t._v(t._s(t.reversed_notes[t.shown_note_i].locked_by.displayName)+".")])]):n("div",{staticClass:"preview",domProps:{innerHTML:t._s(t.format_text(t.note,!0))}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:null===t.shown_note_i&&!t.note_name,expression:"shown_note_i === null && !note_name"}]},[n("div",t._l(t.reversed_notes,(function(e,s){return n("div",{key:e.id,staticClass:"box note",attrs:{id:e.id},on:{click:function(e){t.leavingScroll("list_of_notes"),t.shown_note_id=t.reversed_notes[s].id,t.note_url=t.reversed_notes[s].url,t.note_tags=t.reversed_notes[s].tags,t.tags_input=t.tags_input_init,t.enteringScroll(t.shown_note_id)}}},[n("span",{staticClass:"name"},[t._v(t._s(e.name))]),n("span",{staticClass:"description"},[t._v(t._s(e.text?e.text.substring(0,30).replace(/[*#]/g,"")+(e.text.length>30?"...":""):""))])])})),0)])])],1)}),[],!1,null,null,null).exports),m={props:["online"]},b=(n("0bb1"),Object(p.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xbottom right",attrs:{id:"online"}},[n("div",t._l(t.online,(function(e,s){return n("img",{key:s,attrs:{src:e.photoURL,title:e.name},on:{click:function(e){return t.$emit("p",s)}}})})),0)])}),[],!1,null,null,null).exports),w={props:["p","u","format_text"],data:function(){return{editing:!1,aboutMe:null}},methods:{edit:function(){this.editing=!0,this.aboutMe=this.p.aboutMe,this.focus()},focus:function(){var t=this;this.$nextTick((function(){t.$w.console.log("focus"),t.$w.console.log(t.$refs.textarea),t.$refs.textarea&&t.$refs.textarea.focus()}))}}},k=(n("b1e2"),{name:"app",components:{documents:v,online:b,profile:Object(p.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"profile"}},[n("img",{attrs:{src:t.p.photoURL}}),n("h1",{class:"status "+t.p.status},[t._v(t._s(t.p.displayName))]),1==Object.keys(this.p).length||this.p.aboutMe&&!t.editing||t.p.uid!=t.u.uid?n("div",{class:t.p.uid==t.u.uid?"clickable":"",attrs:{title:t.p.uid==t.u.uid?"Uprav text":""},domProps:{innerHTML:t._s(t.format_text(t.p.aboutMe))},on:{click:t.edit}}):n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.aboutMe,expression:"aboutMe"}],ref:"textarea",attrs:{rows:"10"},domProps:{value:t.aboutMe},on:{blur:function(e){t.$emit("about-me",t.aboutMe?t.aboutMe:null),t.editing=!1},input:function(e){e.target.composing||(t.aboutMe=e.target.value)}}})])])}),[],!1,null,null,null).exports,iconTemplates:Object(p.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("defs",[e("symbol",{attrs:{id:"icon-close",viewBox:"0 0 14 14"}},[e("path",{attrs:{id:"Shape",d:"m14,1.400002l-1.399994,-1.400002l-5.600006,5.599998l-5.600006,-5.599998l-1.399994,1.400002l5.600006,5.599998l-5.600006,5.599998l1.399994,1.400002l5.600006,-5.599998l5.600006,5.599998l1.399994,-1.400002l-5.600006,-5.599998l5.600006,-5.599998z"}})]),e("symbol",{attrs:{id:"icon-math",viewBox:"0 0 16 16"}},[e("g",{attrs:{transform:"translate(-71.09-24.1)"}},[e("path",{attrs:{d:"m537.61 545.98c.211.516.707.853 1.257.853h17.24c.752 0 1.361-.62 1.361-1.385v-4.155c0-.765-.609-1.385-1.361-1.385-.752 0-1.361.62-1.361 1.385v2.77h-12.608l6.234-6.386c.499-.511.53-1.327.069-1.875l-6.623-7.897h12.928v.923c0 .765.609 1.385 1.361 1.385.752 0 1.361-.62 1.361-1.385v-2.308c0-.765-.609-1.385-1.361-1.385h-17.24c-.531 0-1.013.314-1.236.805-.222.491-.144 1.068.201 1.479l7.726 9.211-7.656 7.842c-.388.397-.502.992-.291 1.508",transform:"matrix(.56277 0 0 .55302-229.02-264.3)"}})])]),e("symbol",{attrs:{id:"icon-locked",viewBox:"0 0 1024 1024"}},[e("path",{staticClass:"path1",attrs:{d:"M762.328 378.139q0-49.41-19.411-94.787t-51.931-78.149-77.392-52.183-94.283-19.411h-22.184q-28.234 0-55.46 6.302t-51.175 18.403-45.125 28.739-37.814 37.814-28.739 45.125-18.403 51.175-6.302 55.46v74.619q-26.722 3.529-45.125 23.949t-18.403 47.645v298.478q0 19.663 9.832 36.553t26.722 26.722 36.553 9.832h489.060q19.663 0 36.553-9.832t26.722-26.722 9.832-36.553v-296.965q0-18.151-8.571-33.78t-23.193-25.461-31.764-12.353v-74.619zM519.311 197.136q36.301 0 69.578 14.369t57.225 38.318 38.318 57.225 14.369 69.578v74.619h-381.164v-74.619q0-36.301 14.369-69.578t38.318-57.225 57.225-38.318 69.578-14.369h22.184z"}})]),e("symbol",{staticStyle:{"stroke-width":"30"},attrs:{id:"icon-ban",viewBox:"0 0 500 500",fill:"none",stroke:"inherit"}},[e("path",{staticClass:"fil0 str0",attrs:{d:"M398 102c83,82 83,214 0,296 -82,83 -214,83 -296,0 -83,-82 -83,-214 0,-296 82,-83 214,-83 296,0zm0 0l-296 296"}})]),e("symbol",{attrs:{id:"icon-sand-clock",viewBox:"0 0 23.612 23.612"}},[e("path",{attrs:{d:"M16.192,5.224V4.487h-8.77v0.737c0,0,1.334,3.713,3.838,5.428v1.785c0,0-2.761,2.686-3.838,5.775\n\t\t\t\tv0.842h8.77v-0.842c-1.399-3.41-3.837-5.775-3.837-5.775v-1.785C15.759,7.726,16.192,5.224,16.192,5.224z"}}),e("path",{attrs:{d:"M19.353,3.856V2.529h1.258V0H3.002v2.529h1.259v1.327c0,2.025,3.634,7.555,3.804,7.955\n\t\t\t\tc-0.167,0.397-3.804,5.929-3.804,7.946v1.325H3.002v2.53h17.609v-2.53h-1.258v-1.325c0-2.025-3.635-7.521-3.829-7.951\n\t\t\t\tC15.718,11.376,19.353,5.88,19.353,3.856z M18.096,19.757v1.325H5.519v-1.325c0-1.455,3.854-7.222,3.854-7.951\n\t\t\t\ts-3.854-6.495-3.854-7.95V2.529h12.578v1.327c0,1.455-3.886,7.221-3.886,7.95C14.21,12.535,18.096,18.302,18.096,19.757z"}})]),e("symbol",{attrs:{id:"icon-pen",viewBox:"0 0 364.833 364.833"}},[e("path",{attrs:{d:"M169.911,333.242l0.105,10.664c0.042,4.27,5.74,20.896,12.568,20.927c6.821,0.03,12.201-16.555,12.153-20.83l-0.103-10.761\n\t\tH169.911z"}}),e("path",{attrs:{d:"M293.962,0H70.877C64.5,0,59.33,4.957,59.33,11.072v143.923c0,6.113,5.17,11.067,11.547,11.067h48.834h126.055h48.183\n\t\tc6.377,0,11.554-4.954,11.554-11.067V11.066C305.503,4.957,300.339,0,293.962,0z"}}),e("polygon",{attrs:{points:"154.704,315.618 169.737,315.618 194.462,315.618 210.135,315.618 289.392,181.011 75.444,181.011 \t"}})]),e("symbol",{attrs:{id:"icon-pen2",viewBox:"0 0 1000 1000"}},[e("path",{attrs:{d:"M10,990l52.8-264l3.7-3.7L778.8,10L990,221.2l-716,716L10,990z M94.7,743.1L54.2,945.8l202.7-40.5L941,221.2L778.8,59L94.7,743.1z"}}),e("path",{attrs:{d:"M651,162.3l186.7,186.7l-24.5,24.5L626.5,186.8L651,162.3L651,162.3z"}})]),e("symbol",{attrs:{id:"icon-pen3",viewBox:"0 0 1000 1000"}},[e("path",{attrs:{d:"M 10,990 62.8,726 778.8,10 990,221.2 274,937.2 Z M 128.59831,770.64237 96.572881,903.42712 230.95459,869.60102 873.20339,212.72542 774.56271,118.32203 Z"}}),e("path",{attrs:{d:"m 654.13403,182.57223 c 54.43124,54.43124 108.86247,108.86248 163.29371,163.29372 -19.4754,19.4754 -38.9508,38.9508 -58.4262,58.4262 C 704.5703,349.86091 650.13907,295.42967 595.70783,240.99843 c 19.4754,-19.4754 38.9508,-38.9508 58.4262,-58.4262 z"}})]),e("symbol",{attrs:{id:"icon-write",viewBox:"0 0 604.161 604.161"}},[e("path",{attrs:{d:"M344.131,268.867c-4.636,0-8.393,3.758-8.393,8.393v201.443c0,4.636-3.758,8.393-8.393,8.393H25.18\n\t\t\t\tc-4.636,0-8.393-3.758-8.393-8.393V25.457c0-4.636,3.758-8.393,8.393-8.393h302.164c4.636,0,8.393,3.758,8.393,8.393v50.361\n\t\t\t\tc0,4.636,3.758,8.393,8.393,8.393s8.393-3.758,8.393-8.393V25.457c0-13.907-11.274-25.18-25.18-25.18H25.18\n\t\t\t\tC11.274,0.277,0,11.551,0,25.457v453.246c0,13.907,11.274,25.18,25.18,25.18h302.164c13.907,0,25.18-11.274,25.18-25.18V277.261\n\t\t\t\tC352.525,272.625,348.767,268.867,344.131,268.867z"}}),e("path",{attrs:{d:"M491.869,28.793c-16.339-16.338-42.81-16.396-59.22-0.13l0.017-0.008l-55.262,55.254L88.433,372.896\n\t\t\t\tc-0.084,0.076-0.109,0.185-0.185,0.26c-0.664,0.691-1.203,1.492-1.595,2.367l-0.067,0.143l-35.546,82.944\n\t\t\t\tc-1.112,2.593-0.846,5.571,0.707,7.927s4.185,3.773,7.007,3.774c1.137,0.002,2.263-0.229,3.307-0.68l82.936-35.546l0.143-0.067\n\t\t\t\tc0.877-0.388,1.678-0.928,2.367-1.595c0.076-0.076,0.185-0.101,0.26-0.185l288.978-288.961l55.254-55.262\n\t\t\t\tC508.265,71.604,508.207,45.132,491.869,28.793z M74.702,445.969l22.461-52.409l29.948,29.948L74.702,445.969z M141.849,414.435\n\t\t\t\tl-35.613-35.613l277.11-277.101l35.605,35.605L141.849,414.435z M430.819,125.457l-35.605-35.605l13.707-13.715l35.613,35.613\n\t\t\t\tL430.819,125.457z M480.147,76.179l-0.042-0.008L456.36,99.916l-35.571-35.647l23.745-23.703\n\t\t\t\tc6.362-6.362,15.634-8.846,24.324-6.518c8.69,2.329,15.478,9.116,17.807,17.807C488.993,60.545,486.509,69.817,480.147,76.179z"}}),e("path",{attrs:{d:"M276.984,75.818H75.541c-4.636,0-8.393,3.758-8.393,8.393s3.758,8.393,8.393,8.393h201.443\n\t\t\t\tc4.636,0,8.393-3.758,8.393-8.393S281.619,75.818,276.984,75.818z"}}),e("path",{attrs:{d:"M285.377,134.572c0-4.636-3.758-8.393-8.393-8.393H75.541c-4.636,0-8.393,3.758-8.393,8.393s3.758,8.393,8.393,8.393\n\t\t\t\th201.443C281.619,142.966,285.377,139.208,285.377,134.572z"}}),e("path",{attrs:{d:"M75.541,176.539c-4.636,0-8.393,3.758-8.393,8.393s3.758,8.393,8.393,8.393h151.082c4.636,0,8.393-3.758,8.393-8.393\n\t\t\t\ts-3.758-8.393-8.393-8.393H75.541z"}})]),e("symbol",{attrs:{id:"icon-private",viewBox:"0 0 477.871 477.871"}},[e("path",{attrs:{d:"M474.609,228.901c-29.006-38.002-63.843-71.175-103.219-98.287l67.345-67.345c6.78-6.548,6.968-17.352,0.42-24.132\n\t\t\tc-6.548-6.78-17.352-6.968-24.132-0.42c-0.142,0.137-0.282,0.277-0.42,0.42l-73.574,73.506\n\t\t\tc-31.317-17.236-66.353-26.607-102.093-27.307C109.229,85.336,7.529,223.03,3.262,228.9c-4.349,5.983-4.349,14.087,0,20.07\n\t\t\tc29.006,38.002,63.843,71.175,103.219,98.287l-67.345,67.345c-6.78,6.548-6.968,17.352-0.42,24.132\n\t\t\tc6.548,6.78,17.352,6.968,24.132,0.42c0.142-0.137,0.282-0.277,0.42-0.42l73.574-73.506\n\t\t\tc31.317,17.236,66.353,26.607,102.093,27.307c129.707,0,231.407-137.694,235.674-143.565\n\t\t\tC478.959,242.988,478.959,234.884,474.609,228.901z M131.296,322.494c-34.767-23.156-65.931-51.311-92.484-83.558\n\t\t\tc25.122-30.43,106.598-119.467,200.124-119.467c26.609,0.538,52.77,6.949,76.612,18.773L285.92,167.87\n\t\t\tc-39.2-26.025-92.076-15.345-118.101,23.855c-18.958,28.555-18.958,65.691,0,94.246L131.296,322.494z M285.016,217.005\n\t\t\tc3.34,6.83,5.091,14.328,5.12,21.931c0,28.277-22.923,51.2-51.2,51.2c-7.603-0.029-15.101-1.78-21.931-5.12L285.016,217.005z\n\t\t\t M192.856,260.866c-3.34-6.83-5.091-14.328-5.12-21.931c0-28.277,22.923-51.2,51.2-51.2c7.603,0.029,15.101,1.78,21.931,5.12\n\t\t\tL192.856,260.866z M238.936,358.402c-26.609-0.538-52.769-6.949-76.612-18.773l29.628-29.628\n\t\t\tc39.2,26.025,92.076,15.345,118.101-23.855c18.958-28.555,18.958-65.691,0-94.246l36.523-36.523\n\t\t\tc34.767,23.156,65.931,51.312,92.484,83.558C413.937,269.366,332.461,358.402,238.936,358.402z"}})]),e("symbol",{attrs:{id:"icon-public",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M 12,4 C 8.1529807,3.9517618 4.591152,6.0674167 2.1477943,8.9298706 1.3285973,9.8775775 0.5859143,10.897673 -0.012,12 c 1.7527816,4.059601 5.5747542,7.292927 10.023398,7.861145 3.324445,0.53583 6.820977,-0.386669 9.461843,-2.470494 C 21.338765,15.950157 22.894145,14.105483 24.011,12.031 21.986642,8.3200722 18.571602,5.0973317 14.329286,4.2316912 13.563288,4.0761767 12.781537,3.999804 12,4 Z m 0.018,13 C 9.8325236,17.068261 7.7126892,15.528454 7.197361,13.386696 6.5506495,11.136216 7.6047245,8.4571901 9.7890185,7.4842573 12.034713,6.4002361 15.081664,7.1569921 16.326836,9.384412 c 1.382289,2.291771 0.64681,5.665349 -1.757584,6.964121 C 13.796635,16.788601 12.904813,17.001917 12.018,17 Z m 0,-8 c -1.922742,-0.056754 -3.5067417,2.04499 -2.8652241,3.873224 0.4894454,1.750288 2.7196081,2.70497 4.2957101,1.754248 1.555021,-0.79813 2.081596,-3.026935 0.973857,-4.402311 C 13.86921,9.4718438 12.956923,8.9912411 12.018,9 Z"}})])])])}),[],!1,null,null,null).exports},mounted:function(){var t=this;this.autosize=d.a,n.e("chunk-2e56fc36").then(n.bind(null,"46be")).then((function(e){return t.start_firebase(e.init())})),d()(this.$refs.textarea)},updated:function(){d()(this.$refs.textarea),this.$db&&this.$db.ServerValue&&this.setStatuses()},beforeCreate:function(){this.format_date=function(t){var e=t.split("-");return e[2]+"/"+e[1]},this.highlight=function(t){return this.$w.console.log("highlight",t),t=(t=t.replace(/\*+([^*\s][^*]*?)\*+/g,"<b>$1</b>")).replace(/(\s+|^)"(.+?)"/g,"$1<q>$2</q>")},this.center=function(t){return-1===t.indexOf("_center")?t:t.replace(/_center\s+(.*)/,"<center>$1</center>")},this.frame=function(t){return-1===t.indexOf("_frame")?t:t.replace(/_frame\s*([\s\S]+?)\s*_endframe/g,'<div class="frame simple">$1</div>')},this.price=function(t){return t.replace(/(zdarma)/gi,"<cena>$1</cena>").replace(/(([0-9.,]+[0-9])\s*(Kč|EURo?|CZK))/g,"<cena>$2 $3</cena>").replace(/([0-9.,]+[0-9]),-\s*(Kč|CZK|)/g,"<cena>$1 Kč</cena>")},this.activate_links=function(t){return t.replace(/(((https?:\/\/|www\.|ftps?:\/\/)[^\s]+\.[^\s]+[^.,?!\s]))|((www\.|fb\.com\/|bit\.ly\/)[^\s,?!/]+[^\s,?!]|[^\s,?!/]+@[^\s,?!/]+)/g,'<l onclick="clicked()">$1$4</l>')}},methods:{replace_fixed:function(t){var e=(t=t.replace(/\\\\/g,"/@n-line/")).match(/\$\$((?:(?!(\\\[|\$\$|\\\())(.|[\r\n]))+?)\$\$/gm)||[],n=t.match(/\\\[((?:(?!(\\\[|\$\$|\\\())(.|[\r\n]))+?)\\\]/gm)||[],s=t.match(/\\\(((?:(?!(\\\[|\$\$|\\\())(.|[\r\n]))+?)\\\)/gm)||[],i=t.match(/```\r?\n[^`]+\r?\n```/gm)||[],r=e.concat(n,s,i);this.$w.console.log("=========================",r);for(var o=0;o<r.length;o++)t=t.replace(r[o],"@/"+o+"/@"),r[o]=r[o].replace(/[<]+/g,r[o].indexOf("```")>-1?"&lt;":"\\lt ");return[t,r]},put_fixed:function(t,e){this.$w.console.log(t,e);for(var n=0;n<e.length;n++)t=t.replace("@/"+n+"/@",e[n].split("$").join("£")).split("£").join("$").replace(/[\n\r]+/," ");return t.replace(/\/@n-line\//g,"\\\\")},cursor_inside_latex_all:function(t,e){for(var n=[["\\[","\\]"],["\\(","\\)"]],s=!1,i=0;i<n.length;i++)if(s=this.cursor_inside_latex(t,e,n[i]))return s;return!1},cursor_inside_latex:function(t,e,n){var s=t.substring(0,e),i="",r=s.lastIndexOf(n[0]);if(r>-1&&1===s.split(n[1]).length){var o=t.substring(r).split(n[0])[1].split(n[1]);return o.length>1&&(i=n[0]+o[0]+n[1]),i}return!1},check_cursor:function(t){var e=this.$w.cursor;if(e&&(e=e.end)){var n=this.cursor_inside_latex_all(t,e);t=t.substring(0,e)+"@/cursor/@"+t.substring(e)}return[t,n]},html_encode:function(t){return t.replace(/[<]+/g,"&lt;")},cut_out_between:function(t,e){var n=t.split(e),s=[];t="";for(var i=0;i<n.length;i++)i%2==0?t+=n[i]:(t+=i?"$cut-"+(i+1)/2:"",s.push(n[i]));return[t,s]},add_cuts:function(t,e,n){void 0===n&&(n="");for(var s=0;s<e.length;s++)t=t.replace("$cut-"+(s+1),n+e[s]+n);return t},load_code_highlighter:function(){if("undefined"==typeof hljs){var t=document.createElement("script");t.src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.1/build/highlight.min.js",document.body.appendChild(t),t.setAttribute("onload","hljs.initHighlighting();setTimeout(hljs.initHighlighting,400)"),(t=document.createElement("link")).rel="stylesheet",t.href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.1/build/styles/default.min.css",document.head.appendChild(t)}else setTimeout(hljs.initHighlighting,100)},highlight_code:function(t,e){return"undefined"!=typeof hljs?void 0!==e&&e?function(t,e){try{return hljs.highlight(e,t).value}catch(n){return t}}(t,e):hljs.highlightAuto(t).value:this.html_encode(t)},format_text:function(t,e){var n=this;if(void 0===e&&(e=!1),!t)return t;if(e){var s=this.check_cursor(t);t=s[0],s[1]&&(t=s[1])}var i=this.cut_out_between(t,"```");t=i[0];var r=i[1].map((function(t){var e=t.match(/^(\S+)\n/);return e&&(e=e[1]),t=t.replace(/^(\S+)\n/,""),'<pre><code class="hljs '+e+'">'+n.highlight_code(t.replace(/^\s+/,""),e)+"</code></pre>"}));r.length&&this.load_code_highlighter(),t=t.replace(/\r/g,"").replace(/^\s+|\s+$/g,"").replace(/\$\$\$\$/g,"");var o=[],a=this.replace_fixed,l="function"==typeof a?a(t):[t,o],u=Object(c.a)(l,2);t=u[0],o=u[1],t=this.into_symbols(t);for(var d=this.frame(t.replace(/<[^\s][^>]*>/g,"")).split("\n"),h=!1,p=!1,f="",_=0;_<d.length;_++)if(d[_]=this.center(d[_]),(d[_].indexOf("_")>-1||d[_].indexOf("^")>-1)&&(d[_]=d[_].replace(/(http|www|@|\/\/)(\S+)/g,"$1$2####"),d[_]=d[_].replace(/_([0-9a-zA-Z]+)_?(?!(\S*####|[=,?!:;]))/g,"<sub>$1</sub>"),d[_]=d[_].replace(/\^([^\s^]+)\^?(?!(\S*####|[=,?!:;]))/g,"<sup>$1</sup>"),d[_]=d[_].replace(/####/g,"")),d[_]=d[_].replace(/^\s+|\s+$/,""),d[_]=this.highlight(d[_]),d[_]=this.price(d[_]),d[_]=this.activate_links(d[_]),"#"==d[_][0]){"#"==d[_][1]?d[_]="<h4>"+d[_].replace(/##\s*/,"")+"</h4>":d[_]="<h3>"+d[_].replace(/#\s*/,"")+"</h3>",h&&(h=!1,d[_]="</ul>"+d[_]),p&&(h=!1,d[_]="</ol>"+d[_]);for(var g=_-1,v=[];-1<g&&(v=d[g].match(/^(.*)<nl><br><\/nl>/));)d[g]=v[1],g--;for(;d.length>_+1&&!d[_+1];)_++}else"---"!=d[_].substr(0,3)&&"- - -"!=d[_].substr(0,5)||(d[_]=d[_].replace(/[- ]{3,}$/,"<hr>")),!(d[_].length<2)&&d[_][1].match(/[0-9.]/)||"-"!=d[_][0]&&"*"!=d[_][0]&&"+"!=d[_][0]?(h?(h=!1,d[_]="</ul>"+d[_]):p&&(p=!1,d[_]="</ol>"+d[_]),d[_]?d[_]="<div>"+d[_]+"</div>":d[_]="<nl><br></nl>"):(f=d[_][0],d[_]="<li>"+d[_].slice(1).replace(/^\s*/,"")+"</li>",h||p||("+"!==f?(h=!0,d[_]="<ul>"+d[_]):(p=!0,d[_]="<ol>"+d[_])),d.length==_+1&&(d[_]=d[_]+(h?"</ul>":"</ol>"),p=h=!1));return d=d.join(""),o&&(d=this.style_fixed(d),d=this.put_fixed(d,o)),d=this.add_math_symbols(d),r.length&&(d=this.add_cuts(d,r)),d},style_fixed:function(t){return t.replace(/frame(@\/[0-9]+\/@)/g,'<div class="frame">$1</div>')},into_symbols:function(t){return t.replace(/<==>/g,"⟺").replace(/==>/g,"⟹").replace(/<==/g,"⟸").replace(/<-->/g,"⟷").replace(/-->/g,"⟶").replace(/<--/g,"⟵").replace(/c->/g,"⟳").replace(/d->/g,"⟲").replace(/\+->/g,"⟴").replace(/<=>/g,"⇔").replace(/=>/g,"⇒").replace(/<=/g,"⇐").replace(/_exist/g,"∃").replace(/_all/g,"∀").replace(/(_mapsto|\|->|I->)/g,"↦").replace(/<->/g,"↔").replace(/->/g,"→").replace(/<-/g,"←").replace(/_up/g,"↑").replace(/_down/g,"↓").replace(/_union/g,"∪").replace(/_intersection/g,"∩").replace(/_subset/g,"⊆").replace(/_propersubset/g,"⊂").replace(/_notsubset/g,"⊄").replace(/_superset/g,"⊇").replace(/_propersuperset/g,"⊃").replace(/_notsuperset/g,"⊅").replace(/_in/g,"∈").replace(/_notin/g,"∉").replace(/_empty/g,"∅").replace(/_therefore/g,"∴").replace(/_sum/g,"Σ").replace(/_sum2/g,"∑").replace(/_int/g,"∫").replace(/_partial/g,"∂").replace(/_del/g,"∂").replace(/_nabla/g,"∇").replace(/_laplace/g,"Δ").replace(/_delta/g,"Δ").replace(/_triangle/g,"△").replace(/_fourier/g,"ℱ").replace(/_laplace/g,"ℒ").replace(/\+-/g,"±").replace(/_pi/g,"π").replace(/_h-bar/g,"ħ").replace(/_h-bar2/g,"ℏ").replace(/_delta/g,"δ").replace(/_ne/g,"≠").replace(/_</g,"〈").replace(/_>/g,"〉").replace(/_wedge/g,"∧").replace(/_\*/g,"◦").replace(/_isomorphic/g,"≅").replace(/_homeomorphic/g,"≃")},add_math_symbols:function(t){var e=(t=t.replace(/\\\\/g,"/@n-line/")).match(/\$\$((?:(?!(\\\[|\$\$|\\\())(.|[\r\n]))+?)\$\$/g)||[],n=t.match(/\\\[((?:(?!(\\\[|\$\$|\\\())(.|[\r\n]))+?)\\\]/g)||[];e=e.concat(n);var s=t.match(/\\\(((?:(?!(\\\[|\$\$|\\\())(.|[\r\n]))+?)\\\)/g);if(e)for(var i=0;i<e.length;i++)this.$w.tex&&this.$w.tex[e[i]],this.$w.console.log("LaTeX replacing: ",e[i]),t=t.replace(e[i],this.$w.katex.renderToString(e[i].replace(/(^[\$]+|[\$]+$|\\[[\]])/g,"").replace(/\/@n-line\//g,"\\\\"),{throwOnError:!1,displayMode:!0})),void 0===this.$w.tex&&(this.$w.tex={}),this.$w.tex[e[i]]=t;if(s){e=s;for(var r=0;r<e.length;r++)this.$w.console.log("LaTeX replacing: ",e[r]),t=t.replace(e[r],this.$w.katex.renderToString(e[r].replace(/(\\\(|\\\))/g,""),{throwOnError:!1}))}return t},nav_status:function(t){this.navStatus=t},show_profile:function(t){var e=this;this.profile={uid:t},this.$db.ref("users/"+t).on("value",(function(t){e.profile=Object.assign({},t.val(),{uid:t.key})}))},google_sign_in:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,s,i,r,o,a,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hide_login=!0,n=t.firebase,i=new n.auth.GoogleAuthProvider,n.auth().useDeviceLanguage(),i.setCustomParameters({login_hint:"user@example.com"}),e.next=7,n.auth().signInWithPopup(i).then((function(t){s=t})).catch((function(t){s=t}));case 7:if(t.$w.console.log(s),"auth/popup-closed-by-user"!==s.code){e.next=12;break}return t.hide_login=!1,e.abrupt("return");case 12:if(t.auth=s,!s.error){for(r="photoURL,emailVerified,displayName,email".split(","),o={},a=0;a<r.length;a++)o[r[a]]=s.user[r[a]];o.createdTime=s.user.metadata.a,o.lastSignInTime=s.user.metadata.b,t.push_to_(o,"accounts"),l="access_token="+s.credential.accessToken,c="https://content-people.googleapis.com/v1/people/me?"+l+"&personFields=addresses,ageRanges,biographies,birthdays,braggingRights,coverPhotos,events,genders,imClients,interests,memberships,names,nicknames,occupations,organizations,phoneNumbers,relations,relationshipInterests,relationshipStatuses,residences,sipAddresses,skills,taglines,urls,userDefined",t.$jsonp(c).then((function(e){return t.push_to_(t.cleanppl(e),"people")})).catch((function(e){t.$w.console.log(e)})),u="https://www.googleapis.com/oauth2/v1/userinfo?alt=json&"+l,t.$jsonp(u).then((function(e){return t.push_to_(e,"users")})).catch((function(e){t.$w.console.log(e)}))}case 14:case"end":return e.stop()}}),e)})))()},cleanppl:function(t){t.coverPhotos&&t.coverPhotos[0].default&&!t.coverPhotos[1]&&delete t.coverPhotos[0],delete t.resourceName,delete t.etag,t.names=t.names[0],delete t.names.metadata,t.birthdays&&(t.birthday=t.birthdays[0].date,t.birthday.year&&(t.birthday=t.birthday.year+"-"+("0"+t.birthday.month).slice(-2)+"-"+("0"+t.birthday.day).slice(-2)),delete t.birthdays);for(var e=Object.keys(t),n=0;n<e.length;n++){if(t[e[n]][0])for(var s=0;s<t[e[n]].length;s++)t[e[n]][s]&&delete t[e[n]][s].metadata;t[e[n]][0]&&!t[e[n]][1]&&(t[e[n]]=t[e[n]][0])}return t.genders&&(t.gender=t.genders.value,delete t.genders),t},push_to_:function(t,e){t&&"users"==e&&(t.access_token=this.auth.credential.accessToken),this.$db.ref("accounts/"+this.auth.user.uid+"/uid").set(this.auth.user.uid),this.$db.ref("users/"+this.auth.user.uid+"/uid").set(this.auth.user.uid),this.$db.ref("accounts/"+this.auth.user.uid).update(t);for(var n="displayName,photoURL,createdTime,locale,gender".split(","),s={},i=0;i<n.length;i++)t[n[i]]&&(s[n[i]]=t[n[i]]);this.$db.ref("users/"+this.auth.user.uid).update(s)},login:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.firebase){e.next=2;break}return e.abrupt("return",null);case 2:return n=null,e.next=5,t.firebase.auth().signInWithEmailAndPassword(t.email,t.password).catch((function(t){n=t}));case 5:n.code&&t.firebase.auth().createUserWithEmailAndPassword(t.email,t.password);case 6:case"end":return e.stop()}}),e)})))()},focus:function(t){var e=this;this.$nextTick((function(){e.$w.console.log(t),(t=t||null)&&d()(e.$refs[t]);var n=t?e.$refs[t][0]:e.$refs.textarea;e.$w.console.log(n),n&&n.focus()}))},focus_doc:function(t){this.$nextTick((function(){t.$refs.textarea&&t.$refs.textarea.focus()}))},start_firebase:function(t){var e=this;this.setStatus=function(t){if(null!==this.u)if("online"==t){var e=this.$db.ref("online/"+this.u.uid);e.set({time:this.$time,name:this.u.displayName.split(" ")[0],photoURL:this.u.photoURL}),e.onDisconnect().set(null)}else{var n=this.$db.ref(t+"/"+this.u.uid);n.update({status:"online",status_time:this.$time}),n.onDisconnect().update({status:"offline",status_time:this.$time})}},this.setStatuses=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.u){t.next=2;break}return t.abrupt("return");case 2:return e=null,t.next=5,this.$db.ref("online/"+this.u.uid).once("value",(function(t){e=t.val()}));case 5:e||(this.setStatus("users"),this.setStatus("accounts"),this.setStatus("online"));case 6:case"end":return t.stop()}}),t,this)}))),t.auth().onAuthStateChanged((function(s){e.u=s,e.firebase=t,n.e("chunk-1e3a9218").then(n.bind(null,"66ce")).then((function(){e.$db=t.database(),e.$time=e.firebase.database.ServerValue.TIMESTAMP,e.f(),e.setStatuses()}))}))},f:(o=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.u&&(this.$db.ref("online").on("value",this.show_online),this.$db.ref("projects").on("value",this.show_projects),this.$db.ref("notes").on("value",this.show_notes));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),show_online:function(t){this.online=t.val()},show_projects:function(t){this.projects=t.val()},show_notes:function(t){this.notes=t.val()},create_project:function(){this.$db.ref("projects").push(Object.assign(this.newItem,{name:this.project_name})),this.project_name=""},create_task:function(t){this.$db.ref("projects/"+t+"/tasks").push(Object.assign(this.newItem,{name:this.task_name[t]})),this.task_name[t]=""},deleteel:function(t,e){this.$db.ref(t+"/"+e).set(null)},status:function(t,e){this.$db.ref(t+"/status").set(e);var n={uid:this.u.uid,displayName:this.u.displayName,photoURL:this.u.photoURL,email:this.u.email};"solving"==e&&this.$db.ref(t+"/taken_by").set(n),this.$db.ref(t+"/status_time").set(this.$time)},describe:function(t,e,n){this.$db.ref(t+"/"+e+"/description").set(n||null)},report:function(t,e,n){this.$db.ref(t+"/"+e+"/report").set(n||null)},reversed:function(t){if(null===t)return null;for(var e=Object.keys(t),n=Object.values(t),s=[],i=[],r=0;r<n.length;r++)n[r].id=e[r],(n[r].report?i:s).push(n[r]);return(n=i.concat(s)).reverse()}},data:function(){return{firebase:null,projects:null,notes:null,describing:{},reporting:{},d:null,task_name:{},project_name:null,email:null,password:null,u:"?",auth:"zatim nic",shown:null,hide_login:!1,online:null,profile:null,navStatus:!0}},computed:{newItem:function(){return null!==this.firebase?{created:this.$time,author:this.editor}:null},updatedItem:function(){return null!==this.firebase?{updated:this.$time,updated_by:this.editor}:null},editor:function(){return null!==this.firebase?{uid:this.u.uid,displayName:this.u.displayName,photoURL:this.u.photoURL,email:this.u.email}:null},currentUser:{get:function(){return this.firebase?this.firebase.auth().currentUser:null},set:function(t){}},reversed_notes:function(){return this.reversed(this.notes)},reversed_projects:function(){return this.reversed(this.projects)}}}),$=(n("034f"),n("b0a0"),n("6964"),Object(p.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"?"!=t.u?n("div",{attrs:{id:"app",tabindex:"0"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.profile=null,t.$refs.doc&&t.$refs.doc.close_note()}}},[t.u?n("div",{attrs:{id:"logged"}},[t.profile?n("div",[n("span",{staticClass:"close button",attrs:{title:"close"},on:{click:function(e){t.profile=null}}},[n("svg",{attrs:{width:"14",height:"14"}},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]),n("profile",{attrs:{p:t.profile,focus:t.focus,format_text:t.format_text,u:t.u},on:{"about-me":function(e){return t.$db.ref("users/"+t.u.uid).update({aboutMe:e})}}})],1):n("keep-alive",[n("div",{attrs:{id:"managing"}},[n("div",{class:t.shown?"":"init",style:{visibility:t.navStatus?"":"hidden"},attrs:{id:"nav"}},[n("span",{class:1==t.shown?"active":"",on:{click:function(e){t.shown=1}}},[t._v("Úkoly")]),n("span",{class:2==t.shown?"active":"",on:{click:function(e){t.shown=2}}},[t._v("Dokumenty")])]),n("online",{directives:[{name:"show",rawName:"v-show",value:t.shown,expression:"shown"}],attrs:{online:t.online},on:{p:t.show_profile}}),n("keep-alive",[2==t.shown?n("documents",{ref:"doc",attrs:{u:t.u,deleteel:t.deleteel,autosize:t.autosize,reversed_notes:t.reversed_notes,notes:t.notes,firebase:t.firebase,$db:t.$db,newItem:t.newItem,updatedItem:t.updatedItem,editor:t.editor,format_text:t.format_text,focus:t.focus_doc,cut_out_between:t.cut_out_between,add_cuts:t.add_cuts},on:{p:t.show_profile,"nav-status":t.nav_status}}):t._e()],1),1==t.shown?n("div",{attrs:{id:"tasks"}},[n("div",{staticClass:"w"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.project_name,expression:"project_name"}],attrs:{title:"Přidej projekt",placeholder:"název nového projektu"},domProps:{value:t.project_name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create_project(e)},input:function(e){e.target.composing||(t.project_name=e.target.value)}}})]),t._l(t.reversed_projects,(function(e,s){return n("div",{key:s,class:"project box"+(e.report?" closed":"")+(e.description?" has_description":"")+(e.tasks?" has_tasks":"")+(!e.author||e.author&&t.u&&e.author.uid===t.u.uid?" mine":"")},[n("div",{staticClass:"name"},[n("span",{attrs:{title:"Název projektu"}},[t._v(t._s(e.name))]),n("span",{staticClass:"delete button",attrs:{title:"delete"},on:{click:function(n){return t.deleteel("projects",e.id)}}},[n("svg",{attrs:{width:"14",height:"14",fill:"red"}},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]),t.describing[e.id]?t._e():n("span",{staticClass:"text-button",on:{click:function(n){t.o={},t.o[e.id]=!0,t.describing=Object.assign({},t.describing,t.o),e.d=e.description,t.focus(e.id)}}},[t._v(t._s(e.description?"změň":"přidej")+" popis")]),t.reporting[e.id]?t._e():n("span",{staticClass:"text-button done",on:{click:function(n){t.o={},t.o[e.id]=!0,t.reporting=Object.assign({},t.reporting,t.o),e.r=e.report,t.focus("r_"+e.id)}}},[t._v("uzavřít")])]),t.describing[e.id]?n("div",{staticClass:"w"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.d,expression:"p.d"}],ref:e.id,refInFor:!0,attrs:{placeholder:"Čeho zde chceme dosáhnout? Proč a jak?",autofocus:""},domProps:{value:e.d},on:{blur:function(n){delete t.describing[e.id],t.describing=Object.assign({},t.describing),t.describe("projects",e.id,e.d)},input:function(n){n.target.composing||t.$set(e,"d",n.target.value)}}})]):n("div",{staticClass:"description",attrs:{title:"změň popis"},on:{click:function(n){t.o={},t.o[e.id]=!0,t.describing=Object.assign({},t.describing,t.o),e.d=e.description,t.focus(e.id)}}},[t._v(" "+t._s(e.description)+" ")]),t.reporting[e.id]?n("div",{staticClass:"w"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.r,expression:"p.r"}],ref:"r_"+e.id,refInFor:!0,attrs:{placeholder:"Sem hoď výsledky, výstupy a zkušenosti.",autofocus:""},domProps:{value:e.r},on:{blur:function(n){delete t.reporting[e.id],t.reporting=Object.assign({},t.reporting),t.report("projects",e.id,e.r)},input:function(n){n.target.composing||t.$set(e,"r",n.target.value)}}})]):n("div",{staticClass:"report",attrs:{title:"změň popis"},on:{click:function(n){t.o={},t.o[e.id]=!0,t.reporting=Object.assign({},t.reporting,t.o),e.r=e.report,t.focus("r_"+e.id)}}},[t._v(" "+t._s(e.report)+" ")]),n("div",{staticClass:"w"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name[e.id],expression:"task_name[p.id]"}],attrs:{title:"Přidej úkol",placeholder:"název nového úkolu"},domProps:{value:t.task_name[e.id]},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.create_task(e.id)},input:function(n){n.target.composing||t.$set(t.task_name,e.id,n.target.value)}}})]),t._l(e.tasks,(function(s,i){return n("div",{key:i,class:"task box"+(s.status?" "+s.status:"")+(s.taken_by&&s.taken_by.uid===t.u.uid?" taken_by_me":"")+(!s.author||s.author&&t.u&&s.author.uid===t.u.uid?" mine":"")},[n("div",{staticClass:"name"},[n("span",{attrs:{title:"Název úkolu"}},[t._v(t._s(s.name))]),n("span",{staticClass:"people",attrs:{title:"Autor"},on:{click:function(e){return t.show_profile(s.author.uid)}}},[t._v(" "+t._s(s.author&&(!s.taken_by||s.taken_by&&s.taken_by.uid!==s.author.uid)?"("+((t.n=s.author.displayName)?t.n:s.author.email)+")":"")+" ")]),n("span",{staticClass:"people",attrs:{title:"Zodpovědný"},on:{click:function(e){return t.show_profile(s.taken_by.uid)}}},[t._v(" "+t._s(s.taken_by?(t.n=s.taken_by.displayName)?t.n:s.taken_by.email:"")+" ")]),n("span",{staticClass:"delete button",attrs:{title:"delete"},on:{click:function(n){return t.deleteel("projects/"+e.id+"/tasks",i)}}},[n("svg",{attrs:{width:"14",height:"14",fill:"red"}},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]),"solving"==s.status?n("span",{staticClass:"button b-right complete",on:{click:function(n){return t.status("projects/"+e.id+"/tasks/"+i,"completed")}}},[t._v("úkol dokončen")]):t._e(),s.status?t._e():n("span",{staticClass:"button b-right",on:{click:function(n){return t.status("projects/"+e.id+"/tasks/"+i,"solving")}}},[t._v("vem si na starost")])])])}))],2)}))],2):t._e()],1)])],1):n("div",{staticStyle:{display:"table-cell","vertical-align":"middle",height:"100%"},attrs:{id:"login"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hide_login,expression:"!hide_login"}],staticClass:"containing-table"},[n("div",{staticClass:"centre-align"},[n("div",{staticClass:"content"},[n("button",{on:{click:t.google_sign_in}},[t._v(" Přihlas se Googlem ")])])])])]),n("icon-templates")],1):t._e()}),[],!1,null,null,null).exports),y=n("dc02");a.a.config.productionTip=!1,a.a.prototype.$w=window,a.a.use(y.a,5e3),new a.a({render:function(t){return t($)}}).$mount("#app")},6587:function(t,e,n){},6964:function(t,e,n){"use strict";n("7dff")},"7dff":function(t,e,n){},"81f9":function(t,e,n){"use strict";n("8b79")},8491:function(t,e,n){},"85ec":function(t,e,n){},"8b79":function(t,e,n){},"9d00":function(t,e,n){"use strict";n("4a4b")},b0a0:function(t,e,n){"use strict";n("452c")},b1e2:function(t,e,n){"use strict";n("8491")},cc7b:function(t,e,n){},ff5c:function(t,e,n){"use strict";n("cc7b")}});
//# sourceMappingURL=app.cd084b78.js.map